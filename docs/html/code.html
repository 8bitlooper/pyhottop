

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Code Documentation &mdash; pyHottop 0.1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="pyHottop 0.1.0 documentation" href="index.html"/>
        <link rel="next" title="Exceptions" href="exceptions.html"/>
        <link rel="prev" title="Getting Started" href="introduction.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> pyHottop
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Code Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#hottop-interface">Hottop Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="#control-process">Control Process</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id1">2017-11-24</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">pyHottop</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Code Documentation</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/code.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="code-documentation">
<h1>Code Documentation<a class="headerlink" href="#code-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="hottop-interface">
<h2>Hottop Interface<a class="headerlink" href="#hottop-interface" title="Permalink to this headline">¶</a></h2>
<p>This is the primary class that you will interact with when building applications for the Hottop roaster. This class will automatically spawn a threaded instance of the control process which will handle the core of the operations against the roaster.</p>
<dl class="class">
<dt id="pyhottop.pyhottop.Hottop">
<em class="property">class </em><code class="descclassname">pyhottop.pyhottop.</code><code class="descname">Hottop</code><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop" title="Permalink to this definition">¶</a></dt>
<dd><p>Object to interact and control the hottop roaster.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Hottop instance</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pyhottop.pyhottop.Hottop._autodiscover_usb">
<code class="descname">_autodiscover_usb</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop._autodiscover_usb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop._autodiscover_usb" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to find the serial adapter for the hottop.</p>
<p>This will loop over the USB serial interfaces looking for a connection
that appears to match the naming convention of the Hottop roaster.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop._callback">
<code class="descname">_callback</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop._callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop._callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Processor callback to clean-up stream data.</p>
<p>This function provides a hook into the output stream of data from the
controller processing thread. Hottop readings are saved into a local
class variable for later saving. If the user has defined a callback, it
will be called within this private function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<em>dict</em>) &#8211; Information from the controller process</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop._init_controls">
<code class="descname">_init_controls</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop._init_controls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop._init_controls" title="Permalink to this definition">¶</a></dt>
<dd><p>Establish a set of base controls the user can influence.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop._logger">
<code class="descname">_logger</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop._logger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop._logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a logger to be used between processes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Logging instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.add_roast_event">
<code class="descname">add_roast_event</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.add_roast_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.add_roast_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an event to the roast log.</p>
<p>This method should be used for registering events that may be worth
tracking like first crack, second crack and the dropping of coffee.
Similar to the standard reading output from the roaster, manually
created events will include the current configuration reading, time and
metadata passed in.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>event</strong> (<em>dict</em>) &#8211; Details describing what happened</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.connect">
<code class="descname">connect</code><span class="sig-paren">(</span><em>interface=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.connect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect to the USB for the hottop.</p>
<p>Attempt to discover the USB port used for the Hottop and then form a
connection using the serial library.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises SerialConnectionError:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.drop">
<code class="descname">drop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.drop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.drop" title="Permalink to this definition">¶</a></dt>
<dd><p>Preset call to drop coffee from the roaster via thread signal.</p>
<p>This will set the following configuration on the roaster:
- drum_motor = 0
- heater = 0
- solenoid = 1
- cooling_motor = 1
- main_fan = 10</p>
<p>In order to power-off the roaster after dropping coffee, it&#8217;s best to
use the shutdown method. It&#8217;s assumed that cooling will occur for 5-10
minutes before shutting down.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.end">
<code class="descname">end</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.end" title="Permalink to this definition">¶</a></dt>
<dd><p>End the roaster control process via thread signal.</p>
<p>This simply sends an exit signal to the thread, and shuts it down. In
order to stop monitoring, call the <cite>set_monitor</cite> method with false.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.get_cooling_motor">
<code class="descname">get_cooling_motor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.get_cooling_motor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.get_cooling_motor" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the cooling motor config.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.get_current_config">
<code class="descname">get_current_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.get_current_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.get_current_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current running config and state.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.get_drum_motor">
<code class="descname">get_drum_motor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.get_drum_motor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.get_drum_motor" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the drum motor config.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.get_fan">
<code class="descname">get_fan</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.get_fan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.get_fan" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the fan config.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">int [0-10]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.get_heater">
<code class="descname">get_heater</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.get_heater"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.get_heater" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the heater config.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">int [0-100]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.get_main_fan">
<code class="descname">get_main_fan</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.get_main_fan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.get_main_fan" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the main fan config.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.get_monitor">
<code class="descname">get_monitor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.get_monitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.get_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the monitor config.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.get_roast">
<code class="descname">get_roast</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.get_roast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.get_roast" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the roast information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.get_roast_properties">
<code class="descname">get_roast_properties</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.get_roast_properties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.get_roast_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the roast properties.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.get_roast_time">
<code class="descname">get_roast_time</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.get_roast_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.get_roast_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the roast time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.get_serial_state">
<code class="descname">get_serial_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.get_serial_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.get_serial_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the state of the USB connection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.get_solenoid">
<code class="descname">get_solenoid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.get_solenoid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.get_solenoid" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the solenoid config.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the internal roast properties.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.set_cooling_motor">
<code class="descname">set_cooling_motor</code><span class="sig-paren">(</span><em>cooling_motor</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.set_cooling_motor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.set_cooling_motor" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the cooling motor config.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cooling_motor</strong> (<em>bool</em>) &#8211; Value to set the cooling motor</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">InvalidInput</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.set_drum_motor">
<code class="descname">set_drum_motor</code><span class="sig-paren">(</span><em>drum_motor</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.set_drum_motor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.set_drum_motor" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the drum motor config.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>drum_motor</strong> (<em>bool</em>) &#8211; Value to set the drum motor</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">InvalidInput</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.set_fan">
<code class="descname">set_fan</code><span class="sig-paren">(</span><em>fan</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.set_fan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.set_fan" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the fan config.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fan</strong> (<em>int [0-10]</em>) &#8211; Value to set the fan</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">InvalidInput</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.set_heater">
<code class="descname">set_heater</code><span class="sig-paren">(</span><em>heater</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.set_heater"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.set_heater" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the heater config.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>heater</strong> (<em>int [0-100]</em>) &#8211; Value to set the heater</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">InvalidInput</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.set_interval">
<code class="descname">set_interval</code><span class="sig-paren">(</span><em>interval</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.set_interval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.set_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the polling interval for the process thread.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>interval</strong> (<em>int or float</em>) &#8211; How often to poll the Hottop</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">InvalidInput</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.set_main_fan">
<code class="descname">set_main_fan</code><span class="sig-paren">(</span><em>main_fan</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.set_main_fan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.set_main_fan" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the main fan config.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>main_fan</strong> (<em>int [0-10]</em>) &#8211; Value to set the main fan</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">InvalidInput</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.set_monitor">
<code class="descname">set_monitor</code><span class="sig-paren">(</span><em>monitor</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.set_monitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.set_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the monitor config.</p>
<p>This module assumes that users will connect to the roaster and get
reading information _before_ they want to begin collecting roast
details. This method is critical to enabling the collection of roast
information and ensuring it gets saved in memory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>monitor</strong> (<em>bool</em>) &#8211; Value to set the monitor</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">InvalidInput</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.set_roast_properties">
<code class="descname">set_roast_properties</code><span class="sig-paren">(</span><em>settings</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.set_roast_properties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.set_roast_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the properties of the roast.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>settings</strong> (<em>dict</em>) &#8211; General settings for the roast setup</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">InvalidInput</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.set_solenoid">
<code class="descname">set_solenoid</code><span class="sig-paren">(</span><em>solenoid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.set_solenoid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.set_solenoid" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the solenoid config.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>solenoid</strong> (<em>bool</em>) &#8211; Value to set the solenoid</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">InvalidInput</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.Hottop.start">
<code class="descname">start</code><span class="sig-paren">(</span><em>func=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#Hottop.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.Hottop.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the roaster control process.</p>
<p>This function will kick off the processing thread for the Hottop and
register any user-defined callback function. By default, it will not
begin collecting any reading information or saving it. In order to do
that users, must issue the monitor/record bit via <cite>set_monitor</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> (<em>function</em>) &#8211; Callback function for Hottop stream data</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="control-process">
<h2>Control Process<a class="headerlink" href="#control-process" title="Permalink to this headline">¶</a></h2>
<p>Due to the nature of continuously needing to poll the serial interface, a thread was required to handle interactions with the serial interface. It&#8217;s possible to use the multiprocessing module to handle this work, but when using this library inside of web server technology, multiprocessing often causes issues. Vanilla threads were used here to avoid interaction problems with co-routine or eventlet-based libraries.</p>
<dl class="class">
<dt id="pyhottop.pyhottop.ControlProcess">
<em class="property">class </em><code class="descclassname">pyhottop.pyhottop.</code><code class="descname">ControlProcess</code><span class="sig-paren">(</span><em>conn</em>, <em>config</em>, <em>q</em>, <em>logger</em>, <em>callback=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#ControlProcess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.ControlProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Primary processor to communicate with the hottop directly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>conn</strong> (<em>Serial instance</em>) &#8211; Established serial connection to the Hottop</li>
<li><strong>config</strong> (<em>dict</em>) &#8211; Initial configurations settings</li>
<li><strong>q</strong> (<em>Queue instance</em>) &#8211; Shared queue to interact with the user interface</li>
<li><strong>logger</strong> (<em>Logging instance</em>) &#8211; Shared logger to keep continuity</li>
<li><strong>callback</strong> (<em>function</em>) &#8211; Optional callback function to stream results</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">ControlProces instance</p>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pyhottop.pyhottop.ControlProcess._generate_config">
<code class="descname">_generate_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#ControlProcess._generate_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.ControlProcess._generate_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a configuration that can be sent to the Hottop roaster.</p>
<p>Configuration settings need to be represented inside of a byte array
that is then written to the serial interface. Much of the configuration
is static, but control settings are also included and pulled from the
shared dictionary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Byte array of the prepared configuration.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.ControlProcess._read_settings">
<code class="descname">_read_settings</code><span class="sig-paren">(</span><em>retry=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#ControlProcess._read_settings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.ControlProcess._read_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the information from the Hottop.</p>
<p>Read the settings from the serial interface and convert them into a
human-readable format that can be shared back to the end-user. Reading
from the serial interface will occasionally produce strange results or
blank reads, so a retry process has been built into the function as a
recursive check.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.ControlProcess._send_config">
<code class="descname">_send_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#ControlProcess._send_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.ControlProcess._send_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Send configuration data to the hottop.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">Generic exceptions if an error is identified.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.ControlProcess._validate_checksum">
<code class="descname">_validate_checksum</code><span class="sig-paren">(</span><em>buffer</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#ControlProcess._validate_checksum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.ControlProcess._validate_checksum" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate the buffer response against the checksum.</p>
<p>When reading the serial interface, data will come back in a raw format
with an included checksum process.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.ControlProcess._wake_up">
<code class="descname">_wake_up</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#ControlProcess._wake_up"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.ControlProcess._wake_up" title="Permalink to this definition">¶</a></dt>
<dd><p>Wake the machine up to avoid race conditions.</p>
<p>When first interacting with the Hottop, the machine may not wake up
right away which can put our reader into a death loop. This wake up
routine ensures we prime the roaster with some data before starting
our main loops to read/write data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.ControlProcess.drop">
<code class="descname">drop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#ControlProcess.drop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.ControlProcess.drop" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a drop event to begin the cool-down process.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.ControlProcess.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#ControlProcess.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.ControlProcess.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the core loop of reading and writing configurations.</p>
<p>This is where all the roaster magic occurs. On the initial run, we
prime the roaster with some data to wake it up. Once awoke, we check
our shared queue to identify if the user has passed any updated
configuration. Once checked, start to read and write to the Hottop
roaster as long as the exit signal has not been set. All steps are
repeated after waiting for a specific time interval.</p>
<p>There are also specialized routines built into this function that are
controlled via events. These events are unique to the roasting process
and pre-configure the system with a configuration, so the user doesn&#8217;t
need to do it themselves.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyhottop.pyhottop.ControlProcess.shutdown">
<code class="descname">shutdown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyhottop/pyhottop.html#ControlProcess.shutdown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhottop.pyhottop.ControlProcess.shutdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a shutdown event to stop interacting with the Hottop.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="exceptions.html" class="btn btn-neutral float-right" title="Exceptions" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="introduction.html" class="btn btn-neutral" title="Getting Started" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Brandon Dixon.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>